--- a/src/m4.c
+++ b/src/m4.c
@@ -303,7 +303,8 @@
 "), stdout);
       emit_bug_reporting_address ();
     }
-  exit (status);
+  fflush (NULL);
+  _exit (status);
 }
 
 /*--------------------------------------.
