--- a/core/lock.c
+++ b/core/lock.c
@@ -495,7 +495,7 @@
 	union semun {
 		int val;
 		struct semid_ds *buf;
-		ushort *array;
+		unsigned short *array;
 	} semu;
 	int semid;
 	key_t myKey;
