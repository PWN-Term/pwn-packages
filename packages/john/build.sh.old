TERMUX_PKG_HOMEPAGE=https://github.com/PWN-Term/gcc
TERMUX_PKG_DESCRIPTION="The GNU Compiler Collection includes front ends for C, C++, Objective-C, Fortran, Ada, Go, and D, as well as libraries for these languages"
TERMUX_PKG_LICENSE="GPL-2.0"
TERMUX_PKG_MAINTAINER=@hilledkinged
TERMUX_PKG_VERSION=15.08.21
TERMUX_PKG_REVISION=2
TERMUX_PKG_DEPENDS="openssl"
TERMUX_PKG_SRCURL=https://github.com/PWN-Term/john/archive/refs/heads/pwn-${TERMUX_PKG_VERSION}.tar.gz
TERMUX_PKG_SHA256=27117d155f5bd953c9e3e3685f2cb89f0aaf744dcb588b5884aab76c2ffce174
TERMUX_PKG_BUILD_IN_SRC=true

termux_step_configure() {
	cd src
	./configure LD=$CC CC=$CC --prefix=$TERMUX_PREFIX --host=$CCTERMUX_HOST_PLATFORM
}

termux_step_make() {
    cd src
    make
}

termux_step_make_install() {
    cd src
    mkdir -p ${TERMUX_PKG_MASSAGEDIR}${TERMUX_PREFIX}
    make install
    make PREFIX=${TERMUX_PKG_MASSAGEDIR}${TERMUX_PREFIX} DESTDIR=${TERMUX_PKG_MASSAGEDIR}${TERMUX_PREFIX} install
    return 0
}
